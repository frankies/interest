# README.md 分支更新 - 自动化提示词

## 任务目标

将项目 README.md 转换为完整的分支导航文档，包含所有 git 分支的最新信息、分类和功能说明。

## 前置条件

- 运行环境：Linux/macOS/Windows Git Bash
- 工作目录：项目根目录
- 权限：可修改 README.md

## 执行步骤

### 1. 收集分支数据
```bash
cd /workspaces/interest

# 1a. 获取所有分支及简短提交信息
git branch -a -v

# 1b. 获取按提交日期排序的详细信息（最重要的数据源）
git for-each-ref --sort=-committerdate \
  --format='%(refname:short)|%(committerdate:short)|%(subject)' \
  refs/heads/ refs/remotes/

# 1c. 检查是否有标签
git tag -l
```

### 2. 数据处理规则

**分支清单处理**：
- 移除 `origin/HEAD` 和 `origin/` 前缀，保留纯分支名
- 去重：同一分支的本地和远程版本只保留远程的最新提交日期
- 按提交日期倒序排列

**分支分类标准**：
| 分支前缀/特征 | 分类 | 优先级 |
|-------------|------|-------|
| `lab/` | 实验室分支 | 次要 |
| 2026 年更新 | 最近更新 | 高 |
| 2025 年更新 | 最近更新 | 高 |
| 2024 及之前 | 经典教学 | 中 |

**功能推断规则**：
- 优先使用提交信息和分支名称推断
- 基于既有知识（如 postgresql → 数据库, spring → 框架）补充标签

### 3. README 结构设计

创建新 README，包含以下顺序：

```
# 标题与简介
## 📚 分支导航 - 简介说明
## 🚀 最近更新的分支（2025-2026）
## 📖 经典教学分支（2018-2024）
## 📌 分支分类速查 - 按功能分类
```

**章节内容要求**：
- 【最近更新】：按日期倒序，编号 1-XX
- 【经典教学】：按日期倒序，编号 XX+1 到最后
- 【分类速查】：10 个左右的分类，每个 3-5 个相关分支

### 4. 数据质量检查

检查项目　| 检查方法 | 通过标准
---------|---------|--------
链接准确性 | 对比原 README 的所有链接 | 无失效或错误链接
遗漏分支 | 对比 `git branch -a` 输出 | 所有分支都被列出
日期准确 | 核对 `git log` 或 GitHub 页面 | 日期与实际提交日期一致
分类合理性 | 检查同分类分支是否相关 | 分类逻辑清晰，无明显错分

### 5. 特殊处理

**已知问题修复**：
- 修复：`gradle-ant` 链接原先指向 `pg_slony`，改正为 `gradle-ant`
- 去除：原文尾部的"待续。。。。"

**格式优化**：
- 使用 Unicode emoji 标记章节（📚📖🚀🔧🗄️等）
- 链接格式：`<u>[标题](URL)</u> | **(日期) | 分类标签**`
- 分类速查列表：使用竖线分隔，每行一个分类

### 6. 输出验证清单

- [ ] 标题和分章结构清晰，易于导航
- [ ] 所有 29 个分支都被列出（无重复，无遗漏）
- [ ] 日期从新到旧排序，分段清晰（2026 > 2025 > 2024 及之前）
- [ ] 所有 GitHub 链接格式正确，指向对应分支
- [ ] 每个分支标注了功能分类（至少一个）
- [ ] 分类速查章节包含 10 个主要分类
- [ ] Markdown 格式正确，无语法错误
- [ ] 文件可正常在 GitHub 网页上渲染

## 质量标准

| 维度 | 标准 |
|-----|------|
| 准确性 | 100% 分支信息源自 `git` 命令输出 |
| 完整性 | 包含 100% 的远程分支和最新提交信息 |
| 可维护性 | 按时间和功能分层，便于未来更新 |
| 用户体验 | 支持多种查找方式（按时间、按分类、按功能） |

## 生成后操作

1. **本地验证**：在浏览器中打开 README.md 预览
2. **GitHub 验证**：Push 后在 GitHub 网页查看渲染效果
3. **链接测试**：逐个点击链接确保无 404 错误
4. **提交信息**：`docs: add comprehensive branch navigation to README`

## 常见问题排查

**Q：如何确保分支名称准确？**
A：使用 `git for-each-ref` 而非手动列表，数据源 100% 准确。

**Q：新分支如何添加？**
A：重新运行步骤 1-2 的数据收集命令，更新日期和排序即可。

**Q：分类规则如何扩展？**
A：在"分类速查"章节添加新的分类标题和对应分支即可。
