{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "maven: clean",
			"type": "shell",
			"command": "${workspaceFolder}/mvnw",
			"windows": {
				"command": "${workspaceFolder}/mvnw.cmd"
			},
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"args": [
				"clean"
			],
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "maven: compile",
			"type": "shell",
			"command": "${workspaceFolder}/mvnw",
			"windows": {
				"command": "${workspaceFolder}/mvnw.cmd"
			},
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"args": [
				"compile"
			],
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "maven: test",
			"type": "shell",
			"command": "${workspaceFolder}/mvnw",
			"windows": {
				"command": "${workspaceFolder}/mvnw.cmd"
			},
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"args": [
				"test"
			],
			"group": {
				"kind": "test",
				"isDefault": true
			},
			"presentation": {
				"reveal": "always",
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "maven: package",
			"type": "shell",
			"command": "${workspaceFolder}/mvnw",
			"windows": {
				"command": "${workspaceFolder}/mvnw.cmd"
			},
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"args": [
				"package"
			],
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "shared"
			},
			"problemMatcher": [],
			"dependsOn": [
				"maven: clean"
			]
		},
		{
			"label": "maven: install",
			"type": "shell",
			"command": "${workspaceFolder}/mvnw",
			"windows": {
				"command": "${workspaceFolder}/mvnw.cmd"
			},
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"args": [
				"clean",
				"install"
			],
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"presentation": {
				"reveal": "always",
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "maven: clean install (skip tests)",
			"type": "shell",
			"command": "${workspaceFolder}/mvnw",
			"windows": {
				"command": "${workspaceFolder}/mvnw.cmd"
			},
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"args": [
				"clean",
				"install",
				"-DskipTests"
			],
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "maven: dependency tree",
			"type": "shell",
			"command": "${workspaceFolder}/mvnw",
			"windows": {
				"command": "${workspaceFolder}/mvnw.cmd"
			},
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"args": [
				"dependency:tree"
			],
			"presentation": {
				"reveal": "always",
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "tomcat: run",
			"type": "shell",
			"command": "${workspaceFolder}/mvnw",
			"windows": {
				"command": "${workspaceFolder}/mvnw.cmd"
			},
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"args": [
				"-Dapp.contextPath=${config:applicationContextPath}",
				"tomcat7:run"
			],
			"isBackground": true,
			"presentation": {
				"reveal": "always",
				"panel": "dedicated"
			},
			"problemMatcher": []
		},
		{
			"label": "tomcat: debug",
			"type": "shell",
			"command": "${workspaceFolder}/mvnw",
			"windows": {
				"command": "${workspaceFolder}/mvnw.cmd"
			},
			"options": {
				"cwd": "${workspaceFolder}",
				"env": {
					"MAVEN_OPTS": "-Xmx1024m -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000"
				}
			},
			"args": [
				"-Dapp.contextPath=${config:applicationContextPath}",
				"tomcat7:run"
			],
			"isBackground": true,
			"presentation": {
				"reveal": "always",
				"panel": "dedicated"
			},
			"problemMatcher": []
		},
		{
			"label": "Open Browser",
			"type": "shell",
			"windows": {
				"command": "powershell",
				"args": [
					"-NoProfile",
					"-ExecutionPolicy",
					"Bypass",
					"-Command",
					"Start-Sleep -Seconds 8; Start-Process 'http://localhost:8080${config:applicationContextPath}'"
				]
			},
			"linux": {
				"command": "sh",
				"args": [
					"-c",
					"sleep 8 && xdg-open 'http://localhost:8080${config:applicationContextPath}'"
				]
			},
			"osx": {
				"command": "sh",
				"args": [
					"-c",
					"sleep 8 && open 'http://localhost:8080${config:applicationContextPath}'"
				]
			},
			"presentation": {
				"reveal": "silent",
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "tomcat: run and open browser",
			"dependsOrder": "parallel",
			"dependsOn": [
				"tomcat: run",
				"Open Browser"
			],
			"problemMatcher": []
		},
		{
			"label": "tomcat: debug and open browser",
			"dependsOrder": "parallel",
			"dependsOn": [
				"tomcat: debug",
				"Open Browser"
			],
			"problemMatcher": []
		},
		{
			"label": "tomcat: stop",
			"type": "shell",
			"windows": {
				"command": "powershell",
				"args": [
					"-NoProfile",
					"-ExecutionPolicy",
					"Bypass",
					"-Command",
					"$p = (Get-NetTCPConnection -LocalPort 8080 -State Listen -ErrorAction SilentlyContinue | Select-Object -First 1).OwningProcess; if ($p) { Stop-Process -Id $p -Force; Write-Host ('Stopped process on 8080: ' + $p) } else { Write-Host 'No listening process found on 8080' }"
				]
			},
			"linux": {
				"command": "sh",
				"args": [
					"-c",
					"pid=$(lsof -t -i:8080 2>/dev/null | head -n 1); if [ -n \"$pid\" ]; then kill -9 $pid && echo \"Stopped process on 8080: $pid\"; else echo \"No listening process found on 8080\"; fi"
				]
			},
			"osx": {
				"command": "sh",
				"args": [
					"-c",
					"pid=$(lsof -t -i:8080 2>/dev/null | head -n 1); if [ -n \"$pid\" ]; then kill -9 $pid && echo \"Stopped process on 8080: $pid\"; else echo \"No listening process found on 8080\"; fi"
				]
			},
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"presentation": {
				"reveal": "always",
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "tomcat: shutdown (tomcat7:shutdown) - remote",
			"type": "shell",
			"command": "${workspaceFolder}/mvnw",
			"windows": {
				"command": "${workspaceFolder}/mvnw.cmd"
			},
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"args": [
				"tomcat7:shutdown"
			],
			"presentation": {
				"reveal": "always",
				"panel": "shared"
			},
			"problemMatcher": []
		}
	]
}