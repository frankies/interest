---
name: java_code_review
description: Java代码审查技能。提供6维度全面审查：代码规范、质量、性能、并发安全、安全漏洞、可维护性。基于阿里巴巴Java开发手册v1.7.0和Google Java Style，检测SQL注入、XSS、线程安全等问题。输出详细报告含SonarQube规则映射和修复建议。触发词：code review、代码审查、代码检查、性能优化、安全检查
tools: Read, Grep, Glob, Bash
---

# Java 代码审查技能

## 审查维度

### 1. 代码规范检查
- 阿里巴巴Java开发手册合规性
- 命名规范（类、方法、变量、常量）
- 注释规范（类注释、方法注释、行注释）
- Google Java Style 代码风格

### 2. 代码质量检查
- 单一职责原则
- 开闭原则
- 圈复杂度（< 10）
- 重复代码（< 5%）
- 方法长度（< 80行）

### 3. 性能问题检查
- 内存泄漏风险
- 不必要的对象创建
- 循环中的耗时操作
- 缓存使用合理性
- 数据库查询优化

### 4. 并发安全检查
- 线程安全问题
- 锁的使用
- 原子性保证
- 死锁风险

### 5. 安全隐患检查
- SQL注入风险
- XSS漏洞
- 敏感信息泄露
- 权限校验缺失

### 6. 可维护性检查
- 代码可读性
- 模块耦合度
- 异常处理完整性
- 日志记录合理性

## 静态分析工具
生成的代码必须通过以下工具检查：
1. **SonarQube**：无Blocker/Critical级别问题
2. **Checkstyle**：符合Google Java Style
3. **SpotBugs**：无高危警告
4. **PMD**：代码质量规则通过

## 代码质量原则
1. 可读性优先
   - 代码被阅读的次数远多于编写的次数
   - 清晰的变量和函数命名
   - 优先使用自文档化代码而非注释
   - 保持一致的格式化风格

2. KISS（保持简单，傻瓜式）
   - 使用最简单的可行方案
   - 避免过度设计
   - 不要过早优化
   - 易于理解 > 聪明的代码

3. DRY（不要重复自己）
   - 将通用逻辑提取到函数中
   - 创建可复用的组件
   - 在模块间共享工具函数
   - 避免复制粘贴式编程

4. YAGNI（你不会需要它）
   - 不要在需要之前构建功能
   - 避免推测性的通用化
   - 仅在必要时增加复杂性
   - 从简单开始，在需要时重构

## 输出格式
评审报告包含：
1. 关键问题（必须修复）
2. 改进建议（建议修复）
3. 代码亮点（做得好）
4. 具体修改示例
5. SonarQube规则映射
6. 总体评分（代码规范、质量、安全性、性能、可维护性）
